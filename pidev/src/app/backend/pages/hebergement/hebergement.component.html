<div class="container mt-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="text-center">List of Accommodations</h2>
    <button 
      class="btn btn-primary d-flex align-items-center gap-2 px-4 py-2 shadow-sm"
      (click)="goToAddHebergement()"
      style="border-radius: 8px; font-weight: 500;"
    >
      <i class="fas fa-plus"></i> Add Accommodation
    </button>
  </div>

  <div class="table-responsive">
    <table class="table table-striped table-bordered table-hover" style="width: 100%; max-width: 100%;">
      <thead class="thead-blue">
        <tr>
          <th style="min-width: 80px;">Image</th>
          <th style="min-width: 120px;">Name</th>
          <th style="min-width: 100px;">Type</th>
          <th style="min-width: 120px;">Address</th>
          <th style="min-width: 80px;">Price / Night (dt)</th>
          <th style="min-width: 150px;">Description</th>
          <th style="min-width: 100px;">Availability</th>
          <th style="min-width: 100px;">Telephone</th>
          <th style="min-width: 100px;">Region</th>
          <th style="min-width: 180px;">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let hebergement of hebergements">
          <td>
            <img
              [src]="'assets/frontend/images/hotels/' + hebergement.imageUrl"
              alt="Accommodation Image"
              width="60"
              height="45"
              class="rounded"
              style="object-fit: cover;"
            >
          </td>
          <td class="text-truncate" style="max-width: 120px;">{{ hebergement.name }}</td>
          <td>{{ hebergement.type }}</td>
          <td class="text-truncate" style="max-width: 120px;">{{ hebergement.adresse }}</td>
          <td>{{ hebergement.price }}</td>
          <td class="text-truncate" style="max-width: 150px;">{{ hebergement.description }}</td>
          <td>
            <span [ngClass]="isHebergementAvailable(hebergement) ? 'text-success' : 'text-danger'">
              <i 
                class="fa" 
                [ngClass]="isHebergementAvailable(hebergement) ? 'fa-check-circle' : 'fa-times-circle'"
              ></i>
              {{ isHebergementAvailable(hebergement) ? 'Available' : 'Not Available' }}
            </span>
          </td>
          <td>{{ hebergement.telephone }}</td>
          <td>{{ hebergement.region }}</td>
          <td>
            <div class="d-flex gap-2 justify-content-center">
              <button 
                class="btn btn-warning btn-sm"
                (click)="updateHebergement(hebergement)"
              >
                <i class="fas fa-edit"></i>
              </button>
              <button 
                class="btn btn-danger btn-sm"
                [disabled]="!hebergement.id_hebergement"
                (click)="deleteHebergement(hebergement.id_hebergement!)"
              >
                <i class="fas fa-trash"></i>
              </button>
              <button 
                class="btn btn-info btn-sm"
                (click)="viewHebergementDetails(hebergement.id_hebergement)"
              >
                <i class="fas fa-eye"></i>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Statistics Chart Section -->
<div class="container mt-5">
  <div class="chart-container" style="width: 80%; margin: auto;">
    <canvas id="statChart"></canvas>
  </div>
</div>